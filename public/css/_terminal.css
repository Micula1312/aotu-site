:root {
  --term-bg:#000;
  --term-fg:#00FF00;
  --term-muted:#66ff66;
  --term-border:#00FF00;
  --term-ui-bg:transparent;
}
body.light {
  --term-bg:#f5fff5;
  --term-fg:#003300;
  --term-muted:#227a22;
  --term-border:#227a22;
  --term-ui-bg:#ffffff;
}

/* Base layout */
* { box-sizing:border-box }
html,body { height:100%; margin:0 }
body {
  background-color:var(--term-bg);
  color:var(--term-fg);
  font-family:"Courier New", Courier, monospace;
  font-size:14px;
  padding:24px;
}

/* Header comune */
header {
  max-width:1100px;
  margin:0 auto 8px;
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  border-bottom:1px dashed var(--term-border);
}
h1 { margin:0; font-size:20px; letter-spacing:.5px; }
h1::before { content:"> "; color:var(--term-muted) }
header nav a {
  margin:0 0.5rem;
  color:var(--term-fg);
  text-decoration:none;
}
header nav a:hover { text-decoration:underline }
.header-controls {
  margin-left:auto;
  display:flex;
  flex-direction:column; /* mute sotto toggle */
  gap:8px;
  align-items:flex-end;
}
.header-controls button {
  background:var(--term-ui-bg);
  border:1px solid var(--term-border);
  color:var(--term-fg);
  padding:4px 8px;
  cursor:pointer;
  font-family:inherit;
}

.sub {
 margin: 0;
}

/* === Layout: sempre 2 colonne (sidebar + contenuto) === */
.layout {
  display:grid;
  grid-template-columns: 260px minmax(0, 1fr);
  gap:16px;
  align-items:start;
}
.container { max-width:1100px; margin:0 auto; width:100%; }

/* Sidebar fissa (sticky) */
.sidebar {
  border:1px dashed var(--term-border);
  padding:12px;
  position:sticky;
  top:24px;
  height:fit-content;
  background:var(--term-bg);
  z-index:11;
}
.sidebar h2 { margin:0 0 8px; font-size:16px; }
.sidebar h2::before { content:"> "; color:var(--term-muted); }
.sidebar nav a { display:block; color:var(--term-fg); text-decoration:underline; margin:2px 0; }
.sidebar .controls { display:flex; flex-direction:column; gap:8px; margin-top:12px; }
.sidebar .toggle { display:flex; align-items:center; gap:8px; border:1px solid var(--term-border); padding:4px 8px; background:var(--term-ui-bg); }
.sidebar .toggle button,
.sidebar #audioBtn { background:var(--term-ui-bg); color:var(--term-fg); border:1px solid var(--term-border); padding:4px 8px; font-family:inherit; cursor:pointer; }

/* Content */
.content { min-width:0; }

/* Grid & cards */
main { max-width:1100px; margin:0 auto }
.grid { display:grid; gap:8px; grid-template-columns:repeat(2,minmax(0,1fr)) }
@media(min-width:640px){.grid{grid-template-columns:repeat(3,1fr)}}
@media(min-width:1000px){.grid{grid-template-columns:repeat(4,1fr)}}
.card {
  position:relative;
  border:1px dashed var(--term-border);
  overflow:hidden;
  background:var(--term-bg);
}
.card .ph {
  aspect-ratio:1/1;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  color:var(--term-muted);
}
.card img { width:100%; height:auto }
.meta { padding:8px; border-top:1px dashed var(--term-border) }
.title { font-size:13px; margin:0 0 2px }
.title::before { content:"> "; color:var(--term-muted) }
.muted { color:var(--term-muted); font-size:12px }

/* Lightbox */
dialog#lb {
  border:1px solid var(--term-border);
  padding:0;
  background:var(--term-bg);
  max-width:min(92vw,1100px);
  color:var(--term-fg);
}
#lb::backdrop { background:rgba(0,0,0,.85) }
.lb-wrap { display:grid; grid-template-columns:1fr }
.lb-media { border-bottom:1px dashed var(--term-border) }
.lb-media img, .lb-media video, .lb-media audio { width:100%; height:auto }
.lb-meta { padding:12px }
.lb-title { margin:0 0 6px; font-size:14px }
.lb-title::before { content:"> "; color:var(--term-muted) }
.chip {
  display:inline-block;
  padding:2px 6px;
  border:1px dashed var(--term-border);
  font-size:12px;
  margin:0 6px 6px 0;
}
.close {
  position:absolute;
  top:6px; right:6px;
  background:transparent;
  border:1px solid var(--term-border);
  padding:4px 8px;
  color:var(--term-fg);
}
