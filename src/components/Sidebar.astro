---
const base = import.meta.env.BASE_URL || '/';

const links = [
  { href: base, label: 'home' },
  { href: base + 'abstract', label: 'abstract' },
  { href: base + 'manifesto', label: 'manifesto' },
  { href: base + 'archive', label: 'online platform' },
  { href: base + 'network', label: 'network' }, // ðŸ†• nuova voce
  { href: '#hardware', label: 'hardware treehouse' },
  { href: '#logs', label: 'performative logs' },
  { href: '#narratives', label: 'narrative modes' },
  { href: '#dump', label: 'editorial dump' },
];
---

<aside class="index" aria-label="Site index">
  <!-- Titlebar stile Win â€™90 -->
  <div class="winbar">
    <p class="title">A#U â€” index</p>
    <div class="controls" aria-hidden="true">
      <span class="dot" title="minimize"></span>
      <span class="dot" title="maximize"></span>
      <span class="dot" title="close"></span>
    </div>
  </div>

  <!-- Lista indice scrollabile -->
  <nav class="index-list" aria-label="Sections">
    {links.map((l) => (
      <a class="node" href={l.href}>{l.label}</a>
    ))}
  </nav>

  <!-- Toolbar (opzionale) -->
  <div class="controls" style="padding:10px">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
      <span class="muted">theme</span>
      <button id="themeBtn" class="chip" aria-pressed="false">terminal</button>
    </div>
    <button id="audioBtn" type="button" class="btn">[ unmute ]</button>
  </div>
</aside>
