---
const { current = '', base = '/' } = Astro.props;

const items = [
  // blocco storico
   { href: base,                   key: 'archive',     label: 'Online Platform' },
  { href: base + 'abstract',      key: 'abstract',    label: 'Abstract' },
  { href: base + 'manifesto',     key: 'manifesto',   label: 'Manifesto' },
//{ href: base,                   key: 'archive',     label: 'Online Platform' },
  { href: base + 'network',       key: 'network',     label: 'Network' },

  // placeholder/ancore
  { href: '#hardware',            key: 'hardware',    label: 'Hardware Treehouse' },
  { href: '#logs',                key: 'logs',        label: 'Performative Logs' },
  { href: '#narratives',          key: 'narratives',  label: 'Narrative Modes' },
  { href: '#dump',                key: 'dump',        label: 'Editorial Dump' },

  // nuove sezioni operative
  { href: base + 'menu',          key: 'menu',        label: 'Index' },
  { href: base + 'texts',  key: 'bibliography',label: 'Bibliography' },
  { href: base + 'taxonomies',    key: 'taxonomies',  label: 'Taxonomies' },
  { href: base + 'lab/p5-experiments', key: 'p5',     label: 'P5 Lab' },
];
---
<aside class="sidebar">
  <nav>
    <ul>
      {items.map(i => (
        <li class={i.key === current ? 'is-active' : ''}>
          <a href={i.href}>{i.label}</a>
        </li>
      ))}
    </ul>
  </nav>
</aside>

<style>
  .sidebar{padding:1rem;border-right:1px dashed var(--term-border)}
  ul{list-style:none;margin:0;padding:0;display:grid;gap:.4rem}
  li.is-active a{font-weight:700;text-decoration:underline}
  a{text-decoration:none}
</style>
