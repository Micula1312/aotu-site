---
import Base from '../layouts/Base.astro';
const BASE = import.meta.env.BASE_URL || '/';
---

<Base>
  <Fragment slot="head-title">AOTU — Archive</Fragment>

  <!-- CSS statici serviti da /public -->
  <link rel="stylesheet" href="/css/archive.css" />

  <header>
    <h1>ARCHIVE OF THE UNTAMED — ONLINE PLATFORM</h1>
    <p class="sub">Headless from WordPress (REST API)</p>
  </header>

  <!-- Toolbar -->
  <section class="bar">
    <select id="type" aria-label="Filter by type">
      <option value="">All types</option>
      <option>image</option>
      <option>video</option>
      <option>audio</option>
      <option>doc</option>
    </select>

    <input id="q" placeholder="Search title / notes / tags" aria-label="Search" />
    <button id="refresh" class="btn" type="button">Refresh</button>
  </section>

  <!-- Stato + griglia -->
  <div id="state" class="loading">Loading…</div>
  <div id="grid" class="grid" hidden></div>

  <!-- Lightbox -->
  <dialog id="lb">
    <button class="close" onclick="document.getElementById('lb').close()" aria-label="Close">Close</button>
    <div class="lb-wrap">
      <div class="lb-media" id="lbMedia"></div>
      <div class="lb-meta">
        <h3 class="lb-title" id="lbTitle"></h3>
        <div class="muted" id="lbInfo"></div>
        <div id="lbTags" style="margin-top:8px"></div>
        <div id="lbNotes" style="margin-top:10px"></div>
      </div>
    </div>
  </dialog>

  <!-- JS pubblico (da /public/js/) -->
  <script src={`${BASE}js/archive.js`} is:inline></script>
</Base>
